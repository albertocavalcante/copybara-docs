---
title: Authoring Module Reference
description: Reference for authoring.* functions
---

The `authoring` module controls how commit author information is handled.

## Functions

### authoring.pass_thru

Preserve original author when possible:

```starlark
authoring.pass_thru(
    default = "Bot <bot@example.com>",  # Fallback author
)
```

### authoring.overwrite

Replace all authors:

```starlark
authoring.overwrite(
    "Bot <bot@example.com>",            # Author for all commits
)
```

### authoring.allowed

Allow specific authors, default for others:

```starlark
authoring.allowed(
    default = "Bot <bot@example.com>",  # Fallback author
    allowlist = [                       # Preserved authors
        "alice@example.com",
        "bob@example.com",
    ],
)
```

## Author Format

Authors use Git standard format:

```
Name <email@example.com>
```

## Examples

### Open Source Export

```starlark
authoring = authoring.pass_thru(
    default = "Open Source Bot <oss@company.com>",
)
```

### Bot-Only Commits

```starlark
authoring = authoring.overwrite(
    "Sync Bot <sync@company.com>",
)
```

### Allow Internal Team

```starlark
authoring = authoring.allowed(
    default = "External <external@company.com>",
    allowlist = [
        "*@company.com",
    ],
)
```

## Allowlist Patterns

The `allowlist` parameter supports glob-style patterns:

| Pattern             | Matches                  |
| ------------------- | ------------------------ |
| `alice@example.com` | Exact email match        |
| `*@company.com`     | Any email at company.com |
| `*@*.company.com`   | Any subdomain email      |

## Behavior Details

### What Happens When Author Doesn't Match

When using `authoring.allowed` and an author isn't in the allowlist:

1. Commit is attributed to the `default` author
2. Original author is preserved in the commit message body (configurable)
3. The transformation continues normally

### Malformed Authors

If the source commit has a malformed author (missing email, empty name), Copybara uses the default author.

### Author vs Committer

Git distinguishes between **author** (who wrote the code) and **committer** (who applied it). Copybara's authoring module affects the **author** field. The committer is typically the user/bot running Copybara.

## Common Use Cases

| Use Case                                   | Authoring Mode |
| ------------------------------------------ | -------------- |
| Open source export (preserve contributors) | `pass_thru`    |
| Automated sync (bot attribution)           | `overwrite`    |
| Internal â†’ External (allow known devs)     | `allowed`      |
| Mirror (exact copy)                        | `pass_thru`    |

## Next Steps

- [Glob reference](/reference/glob/)
- [Metadata transformations](/transformations/metadata/)
